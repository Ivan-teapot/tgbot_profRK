1. Общая структура
 • API разделено на два блока:
 • User (студент) — действия студентов с заявками и обращениями.
 • Root (администратор) — действия администратора с заявками, комментариями и сообщениями.
 • Каждое действие системы соответствует отдельному эндпоинту.
 • Для каждого эндпоинта фиксируем:
 • Название
 • Роль, которая использует
 • Описание
 • Входные данные / параметры
 • Результат / ответ
 • Примечания (опционально)

_____________________________________________________________________________________________________

2. User API
Эндпоинт: Регистрация пользователя
 • Роль: User
 • Описание: Пользователь регистрируется в системе через Telegram.
 • Входные данные / параметры: Telegram ID, имя, факультет/группа (если нужно)
 • Результат / ответ: Пользователь успешно зарегистрирован, получает подтверждение.
 • Примечания: Проверка на существующего пользователя; Telegram ID уникален.


Эндпоинт: Просмотр статусов заявлений
 • Роль: User
 • Описание: Пользователь запрашивает список всех своих заявлений и их статусы.
 • Входные данные / параметры: Telegram ID
 • Результат / ответ: Список заявлений с текущими статусами, комментариями и датами обновления.
 • Примечания: Только свои заявки; возможность фильтрации по типу заявления (опционально).

Эндпоинт: Создание обращения в поддержку
 • Роль: User
 • Описание: Пользователь отправляет сообщение или вопрос по заявке.
 • Входные данные / параметры: Telegram ID, ID заявки, текст сообщения
 • Результат / ответ: Сообщение успешно отправлено, root уведомлен о новом сообщении.
 • Примечания: Проверка, что заявка принадлежит пользователю.

Эндпоинт: Загрузка недостающих документов
 • Роль: User
 • Описание: Пользователь загружает файлы или документы, необходимые для рассмотрения заявки.
 • Входные данные / параметры: Telegram ID, ID заявки, файлы
 • Результат / ответ: Документы успешно сохранены, root уведомлен о поступлении новых файлов.
 • Примечания: Проверка формата файлов, привязка к конкретной заявке.

_____________________________________________________________________________________________________

3. Root API

Эндпоинт: Авторизация
 • Роль: Root
 • Описание: Администратор входит в систему через логин и пароль.
 • Входные данные / параметры: Логин, пароль
 • Результат / ответ: Root авторизован, получает сессионный токен для дальнейших действий.
 • Примечания: Необходимо шифрование пароля, проверка сессии при каждом запросе.


Эндпоинт: Просмотр всех заявлений
 • Роль: Root
 • Описание: Получение списка всех заявлений студентов, с возможностью фильтрации по статусу или типу.
 • Входные данные / параметры: Опционально фильтры: статус, тип заявления
 • Результат / ответ: Список заявлений с данными: студент, тип, статус, комментарии, дата создания/обновления
 • Примечания: Фильтры помогают обрабатывать новые и срочные заявки первыми.


Эндпоинт: Создание новой заявки вручную
 • Роль: Root
 • Описание: Root добавляет заявку в систему от имени пользователя.
 • Входные данные / параметры: ID пользователя, тип заявки, начальный статус, комментарий
 • Результат / ответ: Заявка успешно создана
 • Примечания: Используется для ручного ввода заявлений или исправлений.


Эндпоинт: Изменение статуса заявки
 • Роль: Root
 • Описание: Root обновляет статус существующей заявки и добавляет комментарий.
 • Входные данные / параметры: ID заявки, новый статус, комментарий
 • Результат / ответ: Статус обновлён, пользователь уведомлён о изменении.
 • Примечания: Проверка корректности статуса; запись истории изменений (для аналитики и логов).


Эндпоинт: Ответ на сообщение пользователя
 • Роль: Root
 • Описание: Root отправляет ответ пользователю по конкретной заявке.
 • Входные данные / параметры: ID заявки, текст сообщения
 • Результат / ответ: Сообщение успешно доставлено пользователю, переписка сохраняется в системе
 • Примечания: Можно хранить историю переписки для каждой заявки; уведомления для User.


Эндпоинт: Просмотр переписки пользователя
 • Роль: Root
 • Описание: Root получает историю сообщений пользователя по конкретной заявке.
 • Входные данные / параметры: ID заявки
 • Результат / ответ: Список всех сообщений (User и Root) с датами
 • Примечания: Для контроля и ответа на вопросы.

_____________________________________________________________________________________________________

4. Общие замечания
 • Все действия Root должны проходить авторизацию.
 • Доступ User ограничен только своими заявками.
 • Все действия должны логироваться (кто, когда, что сделал).
 • Система должна уведомлять противоположную сторону о всех изменениях (статус, комментарий, сообщения, документы).
 • В будущем возможно добавление расширений:
 • Фильтры и сортировка по заявлениям
 • Массовое изменение статусов
 • Уведомления через бот или email
 • Аналитика по обработке заявлений